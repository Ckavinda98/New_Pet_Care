CREATE TABLE busniess_details (
  busniess_id INT AUTO_INCREMENT PRIMARY KEY,
  register_id VARCHAR(100),
  name VARCHAR(100),
  busniess_type VARCHAR(100),
  contact_number VARCHAR(100),
  email VARCHAR(100),
  address VARCHAR(200),
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES user (user_id)
);


CREATE TABLE user (
  user_id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(100),
  password VARCHAR(100),
  email VARCHAR(100),
  user_type VARCHAR(100)
);


ALTER TABLE `user` ADD COLUMN `busniess_type` VARCHAR(255) DEFAULT NULL;

CREATE TABLE products (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  description TEXT,
  price DECIMAL(10, 2) NOT NULL,
  image VARCHAR(255),
  shop_id INT,
  FOREIGN KEY (shop_id) REFERENCES pet_shop(shop_id)
);

CREATE TABLE pet_shop (
  shop_id INT PRIMARY KEY AUTO_INCREMENT,
  shop_name VARCHAR(255) NOT NULL,
  address VARCHAR(255) NOT NULL,
  city VARCHAR(100) NOT NULL,
  postal_code VARCHAR(20) NOT NULL,
  contact_number VARCHAR(20) NOT NULL,
  email VARCHAR(255) NOT NULL,
  website VARCHAR(255),
  description TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
  busniess_id INT,
FOREIGN KEY (busniess_id) REFERENCES busniess_details(busniess_id)
);

CREATE TABLE pet_groomer (
  groomer_id INT PRIMARY KEY AUTO_INCREMENT,
  groomer_name VARCHAR(255) NOT NULL,
  address VARCHAR(255) NOT NULL,
  city VARCHAR(100) NOT NULL,
  postal_code VARCHAR(20) NOT NULL,
  contact_number VARCHAR(20) NOT NULL,
  email VARCHAR(255) NOT NULL,
  website VARCHAR(255),
  description TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
busniess_id INT,
FOREIGN KEY (busniess_id) REFERENCES busniess_details(busniess_id)
);

CREATE TABLE pet_day_care (
  day_care_id INT PRIMARY KEY AUTO_INCREMENT,
  day_care_name VARCHAR(255) NOT NULL,
  address VARCHAR(255) NOT NULL,
  city VARCHAR(100) NOT NULL,
  postal_code VARCHAR(20) NOT NULL,
  contact_number VARCHAR(20) NOT NULL,
  email VARCHAR(255) NOT NULL,
  website VARCHAR(255),
  description TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
busniess_id INT,
FOREIGN KEY (busniess_id) REFERENCES busniess_details(busniess_id)
);

CREATE TABLE veterinarian (
  vet_id INT PRIMARY KEY AUTO_INCREMENT,
  vet_name VARCHAR(255) NOT NULL,
  address VARCHAR(255) NOT NULL,
  city VARCHAR(100) NOT NULL,
  postal_code VARCHAR(20) NOT NULL,
  contact_number VARCHAR(20) NOT NULL,
  email VARCHAR(255) NOT NULL,
  website VARCHAR(255),
  description TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
busniess_id INT,
FOREIGN KEY (busniess_id) REFERENCES busniess_details(busniess_id)
);


CREATE TABLE pharmacist (
  pharmacist_id INT PRIMARY KEY AUTO_INCREMENT,
  pharmacist_name VARCHAR(255) NOT NULL,
  address VARCHAR(255) NOT NULL,
  city VARCHAR(100) NOT NULL,
  postal_code VARCHAR(20) NOT NULL,
  contact_number VARCHAR(20) NOT NULL,
  email VARCHAR(255) NOT NULL,
  website VARCHAR(255),
  description TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
busniess_id INT,
FOREIGN KEY (busniess_id) REFERENCES busniess_details(busniess_id)
);


CREATE TABLE prescriptions (
  prescription_id INT AUTO_INCREMENT,
  user_id INT,
  pharmacist_id INT,
  prescription_text TEXT NOT NULL,
  prescription_date DATE NOT NULL,
  PRIMARY KEY (prescription_id),
  FOREIGN KEY (pharmacist_id) REFERENCES pharmacist(pharmacist_id),
  FOREIGN KEY (user_id) REFERENCES user(user_id)
);

CREATE TABLE appointments (
  appointment_id INT AUTO_INCREMENT,
  pet_owner_name VARCHAR(255) NOT NULL,
  user_id INT,
  vet_id INT,
  vet_name VARCHAR(255) NOT NULL,
  appointment_date DATE NOT NULL,
  appointment_time TIME NOT NULL,
  PRIMARY KEY (appointment_id),
FOREIGN KEY (vet_id) REFERENCES veterinarian(vet_id),
  FOREIGN KEY (user_id) REFERENCES user(user_id)
);

<form class="modern-form" action="function.php" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="user_id" value="<?php echo $user_id; ?>"><br>
            <input type="hidden" name="pharmacist_id" value="<?php echo $pharmacist_id; ?>"><br>
  <div class="form-group">
    <label for="pet_owner_name">Pet Owner Name:</label>
    <input type="text" id="pet_owner_name" name="pet_owner_name" required>
  </div>
  
  
  
  <div class="form-group">
    <label for="vet_name">Pharmacy Name:</label>
    <input type="text" id="vet_name" name="pharmacist_name" value="<?php echo $pharmacist_name; ?>" readonly  required>
  </div>
 
  <div class="form-group">
              <label for="image">Prescription:</label>
            <input type="file" id="image" name="file" accept="image/*" onchange="previewImage(event)">
              </div>
              <div class="form-group full-width">
                <button type="submit" name="submit_p" class="btn-submit">Upload</button>
              </div>
            </form>
          </div>
          <div class="preview-section">
           
            <div class="form-group">
              <img id="image-preview" src="#" alt="Image Preview" />
            </div>

  
  <div class="form-group full-width">
    <button type="submit" name="submit_prc" class="btn-submit">Submit</button>
  </div>
</form>

ALTER TABLE prescriptions
ADD pharmacist_name VARCHAR(100);

ALTER TABLE prescriptions
DROP COLUMN new_column; 


ALTER TABLE prescriptions
ADD COLUMN pet_owner_name VARCHAR(50) DEFAULT 'pending' AFTER pharmacist_name;


100370712981 